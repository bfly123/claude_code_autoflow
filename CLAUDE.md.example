- 开始书写代码前，采用codex进行规划，每次代码完成后采用codex进行审查
- 管理员密码是 299792458
- 修正代码不需要创建文档
- 每次运行除非要求不然不要再生成 md文件
- 不要生成文档，不要生成文档，不要生成文档，除非要求生成!!!!
- 代码清洁很重要 代码清洁很重要  代码清洁很重要 减少注释内容
- TEST 文件全部放在 test文件夹，随用随删！！！！

## TODO 管理规则
- 当我说"save progress"或"保存进度"时，立即更新项目目录下的 TODO.md 文件
- 当我说"save and clear"时，先更新 TODO.md，然后提示我可以 /clear
- 每次完成重要任务后，主动询问是否需要更新 TODO.md
- 新会话开始时，如果项目目录存在 TODO.md，主动提醒我是否需要读取

## TODO 维护规则（防止臃肿）
- 每次更新 TODO.md 时，检查已完成任务数量，超过 10 条时提醒归档
- 当 TODO.md 文件行数超过 200 行时，主动警告并建议清理
- 每周一新会话时，询问是否需要归档上周任务
- 添加新任务时，如果待办任务超过 15 条，提醒先清理或归档
- 当我说"归档"或"archive"时，将已完成任务移动到 archives/ 目录
- 优先使用精简版格式，避免在 TODO.md 中记录过多细节

## 渐进式任务管理系统（新系统）

### 核心命令
- /plan [任务描述] - Codex 规划 3-7 个宏观步骤
- /expand - Codex 展开当前步骤为 3-5 个子步骤
- /run [额外需求] - Claude 执行当前子步骤 + Codex 自动审查
- /progress - 查看当前进度和状态

### 工作流规则
1. 每个子步骤完成后**必须** /clear 清理内存
2. /run 完成后自动触发 Codex 审查（40分制）
3. 审查通过（≥28分）后自动更新 todo.md
4. 子步骤全部完成时提醒使用 /expand
5. todo.md 始终保持精简（<20行）

### Codex 审查标准
- Code Quality: 代码质量（0-10）
- Correctness: 正确性（0-10）
- Performance: 性能（0-10）
- Completeness: 完整性（0-10）
- 总分 ≥28 为通过，≥35 为优秀

### 自动化提示
- /run 完成后提醒："💡 Recommend: /clear"
- Step 完成后提醒："💡 Use /expand for next step"
- 检测上下文使用率 >50% 时警告："⚠️ Consider /clear"
- 审查分数 <28 时提示修复建议

### Token 优化策略
- 每个子步骤独立会话（/clear 重置）
- todo.md 只展开当前步骤
- 完成的步骤自动收起
- 子步骤间通过文件传递数据（非内存）
- 目标：保持在 60% token 预算内（120k/200k）